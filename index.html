<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concrete Flat-Work Estimator</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        
        const Calculator = ({ size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <rect x="4" y="2" width="16" height="20" rx="2"/>
                <line x1="8" y1="6" x2="16" y2="6"/>
                <line x1="16" y1="14" x2="16" y2="14.01"/>
                <line x1="12" y1="14" x2="12" y2="14.01"/>
                <line x1="8" y1="14" x2="8" y2="14.01"/>
                <line x1="16" y1="18" x2="16" y2="18.01"/>
                <line x1="12" y1="18" x2="12" y2="18.01"/>
                <line x1="8" y1="18" x2="8" y2="18.01"/>
            </svg>
        );

        const Zap = ({ size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
            </svg>
        );

        const DollarSign = ({ size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="12" y1="1" x2="12" y2="23"/>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
            </svg>
        );

        const Package = ({ size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="16.5" y1="9.4" x2="7.5" y2="4.21"/>
                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
                <line x1="12" y1="22.08" x2="12" y2="12"/>
            </svg>
        );

        const AlertTriangle = ({ size = 24 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                <line x1="12" y1="9" x2="12" y2="13"/>
                <line x1="12" y1="17" x2="12.01" y2="17"/>
            </svg>
        );

        function ConcreteEstimator() {
            const [sqft, setSqft] = useState('');
            const [thickness, setThickness] = useState('4');
            const [showEstimate, setShowEstimate] = useState(false);
            const [footingWidth, setFootingWidth] = useState('');
            const [footingDepth, setFootingDepth] = useState('');
            const [perimeter, setPerimeter] = useState('');
            const [showError, setShowError] = useState(false);
            const [errorMessage, setErrorMessage] = useState('');

            const concretePrice = 190;

            const calculate = () => {
                setShowError(false);
                if (sqft && sqft > 0) {
                    if (perimeter && perimeter > 0) {
                        const side = parseFloat(perimeter) / 4;
                        const calculatedSqFt = side * side;
                        const tolerance = calculatedSqFt * 0.15;
                        
                        if (Math.abs(parseFloat(sqft) - calculatedSqFt) > tolerance) {
                            setErrorMessage(`An ${perimeter}ft perimeter suggests approximately ${calculatedSqFt.toFixed(0)} sq ft. Your entered ${sqft} sq ft doesn't match.`);
                            setShowError(true);
                            return;
                        }
                    }
                    setShowEstimate(true);
                }
            };

            const thicknessInFeet = parseInt(thickness) / 12;
            const cubicFeet = sqft * thicknessInFeet;
            const cubicYards = cubicFeet / 27;

            let footingCubicYards = 0;
            if (footingWidth && footingDepth && perimeter) {
                const footingWidthFeet = parseFloat(footingWidth) / 12;
                const footingDepthFeet = parseFloat(footingDepth) / 12;
                const footingCubicFeet = parseFloat(perimeter) * footingWidthFeet * footingDepthFeet;
                footingCubicYards = footingCubicFeet / 27;
            }

            const totalCubicYards = cubicYards + footingCubicYards;
            const materialCost = totalCubicYards * concretePrice;
            const total = materialCost;

            return React.createElement('div', { className: "min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-6 flex items-center justify-center" },
                React.createElement('div', { className: "max-w-2xl w-full" },
                    React.createElement('div', { className: "bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20" },
                        React.createElement('div', { className: "flex items-center gap-3 mb-8" },
                            React.createElement('div', { className: "bg-gradient-to-br from-cyan-400 to-blue-500 p-3 rounded-xl" },
                                React.createElement(Calculator, { size: 32 })
                            ),
                            React.createElement('div', null,
                                React.createElement('h1', { className: "text-3xl font-bold text-white" }, "Concrete Flat-Work Estimator"),
                                React.createElement('p', { className: "text-cyan-300 text-sm" }, "Quick pricing for your next job")
                            )
                        ),
                        React.createElement('div', { className: "space-y-6" },
                            React.createElement('div', null,
                                React.createElement('label', { className: "block text-cyan-300 text-sm font-semibold mb-2" }, "Square Footage"),
                                React.createElement('input', {
                                    type: "number",
                                    value: sqft,
                                    onChange: (e) => setSqft(e.target.value),
                                    placeholder: "Enter sq ft",
                                    className: "w-full bg-white/5 border-2 border-cyan-500/30 rounded-xl p-4 text-white text-lg placeholder-white/40 focus:border-cyan-400 focus:outline-none transition-all"
                                })
                            ),
                            React.createElement('div', null,
                                React.createElement('label', { className: "block text-cyan-300 text-sm font-semibold mb-2" }, "Thickness (inches)"),
                                React.createElement('div', { className: "grid grid-cols-3 gap-3" },
                                    ['4', '6', '8'].map((t) =>
                                        React.createElement('button', {
                                            key: t,
                                            onClick: () => setThickness(t),
                                            className: `p-4 rounded-xl font-semibold transition-all ${thickness === t ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg scale-105' : 'bg-white/5 text-white hover:bg-white/10'}`
                                        }, t + '"')
                                    )
                                )
                            ),
                            React.createElement('div', { className: "bg-purple-500/10 border-2 border-purple-400/30 rounded-xl p-5 space-y-4" },
                                React.createElement('h3', { className: "text-purple-300 font-semibold text-lg" }, "Footing Details (Optional)"),
                                React.createElement('div', null,
                                    React.createElement('label', { className: "block text-purple-200 text-sm font-semibold mb-2" }, "Perimeter (feet)"),
                                    React.createElement('input', {
                                        type: "number",
                                        value: perimeter,
                                        onChange: (e) => setPerimeter(e.target.value),
                                        placeholder: "Total perimeter",
                                        className: "w-full bg-white/5 border-2 border-purple-500/30 rounded-xl p-3 text-white placeholder-white/40 focus:border-purple-400 focus:outline-none transition-all"
                                    })
                                ),
                                React.createElement('div', { className: "grid grid-cols-2 gap-3" },
                                    React.createElement('div', null,
                                        React.createElement('label', { className: "block text-purple-200 text-sm font-semibold mb-2" }, "Width (inches)"),
                                        React.createElement('input', {
                                            type: "number",
                                            value: footingWidth,
                                            onChange: (e) => setFootingWidth(e.target.value),
                                            placeholder: "Width",
                                            className: "w-full bg-white/5 border-2 border-purple-500/30 rounded-xl p-3 text-white placeholder-white/40 focus:border-purple-400 focus:outline-none transition-all"
                                        })
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('label', { className: "block text-purple-200 text-sm font-semibold mb-2" }, "Depth (inches)"),
                                        React.createElement('input', {
                                            type: "number",
                                            value: footingDepth,
                                            onChange: (e) => setFootingDepth(e.target.value),
                                            placeholder: "Depth",
                                            className: "w-full bg-white/5 border-2 border-purple-500/30 rounded-xl p-3 text-white placeholder-white/40 focus:border-purple-400 focus:outline-none transition-all"
                                        })
                                    )
                                )
                            ),
                            React.createElement('button', {
                                onClick: calculate,
                                disabled: !sqft || sqft <= 0,
                                className: "w-full bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-cyan-500/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-lg"
                            },
                                React.createElement(Zap, { size: 24 }),
                                "Calculate Estimate"
                            )
                        ),
                        showError && React.createElement('div', { className: "mt-6 bg-red-500/20 border-2 border-red-400 rounded-2xl p-6 animate-pulse" },
                            React.createElement('div', { className: "flex items-center gap-3 mb-2" },
                                React.createElement(AlertTriangle, { size: 32 }),
                                React.createElement('h3', { className: "text-2xl font-bold text-white" }, "Something's Off - Check Your Math!")
                            ),
                            React.createElement('p', { className: "text-red-200 text-lg" }, errorMessage)
                        ),
                        showEstimate && sqft > 0 && React.createElement('div', { className: "mt-8 space-y-4" },
                            React.createElement('div', { className: "bg-gradient-to-br from-orange-500/20 to-yellow-500/20 rounded-2xl p-6 border-2 border-orange-400/50" },
                                React.createElement('div', { className: "flex items-center gap-2 mb-3" },
                                    React.createElement(Package, { size: 28 }),
                                    React.createElement('h2', { className: "text-2xl font-bold text-white" }, "Concrete Needed")
                                ),
                                React.createElement('div', { className: "text-center" },
                                    React.createElement('div', { className: "text-5xl font-bold text-white mb-2" }, totalCubicYards.toFixed(2)),
                                    React.createElement('div', { className: "text-orange-200 text-lg" }, "cubic yards total"),
                                    footingCubicYards > 0 && React.createElement('div', { className: "mt-3 text-orange-100/80 text-sm space-y-1" },
                                        React.createElement('div', null, `Slab: ${cubicYards.toFixed(2)} yd³`),
                                        React.createElement('div', null, `Footing: ${footingCubicYards.toFixed(2)} yd³`)
                                    ),
                                    footingCubicYards === 0 && React.createElement('div', { className: "text-orange-100/70 text-sm mt-2" }, `(${cubicFeet.toFixed(1)} cubic feet)`)
                                )
                            ),
                            React.createElement('div', { className: "bg-gradient-to-br from-cyan-500/20 to-purple-500/20 rounded-2xl p-6 border-2 border-cyan-400/50" },
                                React.createElement('div', { className: "flex items-center gap-2 mb-4" },
                                    React.createElement(DollarSign, { size: 28 }),
                                    React.createElement('h2', { className: "text-2xl font-bold text-white" }, "Material Cost")
                                ),
                                React.createElement('div', { className: "space-y-3" },
                                    React.createElement('div', { className: "flex justify-between items-center bg-white/5 rounded-lg p-3" },
                                        React.createElement('span', { className: "text-cyan-200" }, `Concrete (${totalCubicYards.toFixed(2)} yd³ @ $${concretePrice}/yd³):`),
                                        React.createElement('span', { className: "text-white font-bold text-lg" }, `$${materialCost.toFixed(0)}`)
                                    ),
                                    React.createElement('div', { className: "h-px bg-gradient-to-r from-transparent via-cyan-400 to-transparent my-2" }),
                                    React.createElement('div', { className: "flex justify-between items-center bg-gradient-to-r from-cyan-500/30 to-purple-500/30 rounded-lg p-4" },
                                        React.createElement('span', { className: "text-white font-semibold text-lg" }, "Total Cost:"),
                                        React.createElement('span', { className: "text-white font-bold text-2xl" }, `$${total.toFixed(2)}`)
                                    ),
                                    React.createElement('div', { className: "bg-white/5 rounded-lg p-3 mt-4" },
                                        React.createElement('p', { className: "text-cyan-100 text-sm" },
                                            React.createElement('strong', { className: "text-white" }, `${sqft} sq ft`),
                                            ` · ${thickness}" thick`
                                        )
                                    )
                                )
                            )
                        )
                    ),
                    React.createElement('p', { className: "text-center text-cyan-300/60 text-sm mt-6" }, `Material @ $${concretePrice}/yd³ · Final pricing may vary`)
                )
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(ConcreteEstimator));
    </script>
</body>
</html>
